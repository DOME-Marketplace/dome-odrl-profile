{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ConstraintSchema",
  "definitions": {
    "ConstraintOrLogicalConstraint": {
      "title": "ConstraintOrLogicalConstraint",
      "description": "",
      "oneOf": [
        {
          "ref": "#/definitions/Constraint"
        },
        {
          "ref": "#/definitions/LogicalConstraint"
        }
      ]
    },
    "LogicalConstraint": {
      "title": "LogicalConstraint",
      "description": "",
      "type": "object",
      "properties": {},
      "allOf": [
        {
          "$ref": "Common.schema.json#/definitions/EntityRef"
        }
      ],
      "oneOf": [
        {
          "properties": {
            "or": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Constraint"
              }
            }
          }
        },
        {
          "properties": {
            "xone": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Constraint"
              }
            }
          }
        },
        {
          "properties": {
            "and": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Constraint"
              }
            }
          }
        },
        {
          "properties": {
            "andSequence": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Constraint"
              }
            }
          }
        }
      ]
    },
    "Constraint": {
      "title": "Constraint",
      "description": "",
      "type": "object",
      "properties": {
        "operator": {
          "$ref": "#/definitions/Operator"
        },
        "leftOperand": {
          "$ref": "#/definitions/LeftOperand"
        },
        "dataType": {
          "$ref": "#/definitions/DataType"
        },
        "unit": {
          "$ref": "#/definitions/Unit"
        },
        "status": {
          "$ref": "#/definitions/Status"
        }
      },
      "allOf": [
        {
          "$ref": "Common.schema.json#/definitions/EntityRef"
        }
      ],
      "oneOf": [
        {
          "properties": {
            "rightOperant": {
              "oneOf": [
                {
                  "$ref": "#/definitions/RightOperand"
                },
                {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/RightOperand"
                  }
                }
              ]
            }
          }
        },
        {
          "properties": {
            "rightOperantReference": {
              "oneOf": [
                {
                  "$ref": "#/definitions/RightOperandReference"
                },
                {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/RightOperandReference"
                  }
                }
              ]
            }
          }
        }
      ]
    },
    "Operator": {
      "title": "Operator",
      "description": "",
      "type": "string",
      "enum": [
        "eq",
        "gt",
        "gteq",
        "hasPart",
        "isA",
        "isAllOf",
        "isAnyOf",
        "isNoneOf",
        "isPartOf",
        "lt",
        "lteq",
        "neq"
      ]
    },
    "LeftOperand": {
      "title": "LeftOperand",
      "description": "",
      "type": "string",
      "enum": [
        "absolutePosition",
        "absoluteSize",
        "absoluteSpatialPosition",
        "absoluteTemporalPosition",
        "count",
        "dateTime",
        "delayPeriod",
        "deliveryChannel",
        "device",
        "elapsedTime",
        "event",
        "fileFormat",
        "industry",
        "language",
        "media",
        "meteredTime",
        "payAmount",
        "percentage",
        "product",
        "purpose",
        "recipient",
        "relativePosition",
        "relativeSize",
        "relativeSpatialPosition",
        "relativeTemporalPosition",
        "resolution",
        "spatial",
        "spatialCoordinates",
        "system",
        "systemDevice",
        "timeInterval",
        "unitOfCount",
        "version",
        "virtualLocation"
      ]
    },
    "RightOperand": {
      "title": "RightOperand",
      "description": "",
      "oneOf": [
        {
          "type": "string"
        },
        {
          "type": "string",
          "format": "uri"
        }
      ]
    },
    "RightOperandReference": {
      "title": "RightOperandReference",
      "description": "",
      "type": "string",
      "format": "uri"
    },
    "DataType": {
      "title": "DataType",
      "description": "",
      "type": "string",
      "format": "uri"
    },
    "Unit": {
      "title": "Unit",
      "description": "",
      "type": "string",
      "format": "uri"
    },
    "Status": {
      "title": "Status",
      "description": "",
      "type": "string"
    }
  }
}